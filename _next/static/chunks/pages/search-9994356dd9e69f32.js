(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[603],{5243:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/search",function(){return n(7227)}])},7859:function(e,t,n){"use strict";n.d(t,{N:function(){return u}});var r=n(5893),i=(n(7294),n(8182)),o=n(8072),u=function(e){var t=e.audiobooks;return(0,r.jsx)(i.Z,{style:{minHeight:"300px",marginTop:"100px"},children:t.length>0?(0,r.jsx)(o.l,{list:t,itemsPerPage:10,useMinimalControls:!0,ControlItem:function(e){return(0,r.jsx)("button",{onClick:e.onClick,onKeyDown:function(t){return"Enter"===t.key?e.onClick():void 0},tabIndex:0,className:"pagination-buttons ".concat(e.className),"aria-label":(t=e,t.className.includes("prev")?"Previous Page":t.className.includes("next")?"Next Page":t.className.includes("pagination-break")?"Collapsed pages":"".concat(t.className.includes("active")?"Current Page, ":"Goto"," Page ").concat(t.children)),children:e.children});var t},renderList:function(e){return(0,r.jsxs)("ul",{style:{padding:0},"aria-label":"Audiobook links",children:[e.map((function(e,t){return(0,r.jsx)("li",{className:"list-group-item",children:(0,r.jsxs)("a",{href:"/audiobook/".concat(e.id),children:["".concat(e.title.substring(0,77).trimEnd()).concat(e.title.length>77?"...":"")," ","- ",e.author]})},t)}))," "]})}}):(0,r.jsx)("h4",{style:{textAlign:"center",marginTop:"50px"},children:"No results were found for your search."})})}},7227:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return j}});var r=n(5893),i=n(1163),o=n(6700),u=n(7859),l=n(9008),c=n.n(l),a=n(7160),s=n.n(a),d=n(7294);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){f(e,t,n[t])}))}return e}var v=function(e){var t=e.title,n=e.items,i=e.checkedItems,o=(0,d.useState)({}),u=o[0],l=o[1],c=(0,d.useState)(10),a=c[0],s=c[1];return(0,d.useEffect)((function(){l(i.reduce((function(e,t){return h({},e,f({},t,!0))}),{}))}),[i[0]]),{checkedItems:Object.keys(u).filter((function(e){return u[e]})),Checklist:(0,r.jsxs)("ul",{"aria-label":t,children:[(0,r.jsx)("h5",{children:t}),n.sort((function(e,t){return t.count-e.count})).slice(void 0,a).map((function(e,t){return(0,r.jsx)("li",{children:(0,r.jsxs)("label",{htmlFor:e.title.replace(" ","-"),children:[(0,r.jsx)("input",{type:"checkbox","data-key":e.title.replace(" ","-"),id:e.title.replace(" ","-"),onChange:function(){return l(h({},u,f({},e.title,!u[e.title])))},value:u[e.title],checked:u[e.title]}),e.title," (",e.count,")"]})},t)})),n.length>a&&(0,r.jsx)("a",{href:"",onClick:function(e){return e.preventDefault(),s(a+10)},children:"show more..."})]})}},m=n(8455),p=n.n(m);function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var b=function(e){return e?Array.isArray(e)?e:[e]:[]},g=function(e,t){return t&&k((n=new Set(e||[]),r=new Set(Array.isArray(t)?t:[t]),new Set(k(n).filter((function(e){return r.has(e)}))))).length>0||0===(null===t||void 0===t?void 0:t.length)||!t;var n,r},j=function(){var e,t,n,l,a,d=(0,i.useRouter)(),f=o.Lw.filter((function(e){var t;return function(e,t){return e.title.toLowerCase().includes(null===t||void 0===t?void 0:t.toLowerCase())}(e,(null===d||void 0===d||null===(t=d.query)||void 0===t?void 0:t.title)||"")})).filter((function(e){var t;return g((null===e||void 0===e?void 0:e.tags)||[],null===d||void 0===d||null===(t=d.query)||void 0===t?void 0:t.tags)})).filter((function(e){var t;return g([null===e||void 0===e?void 0:e.author]||0,null===d||void 0===d||null===(t=d.query)||void 0===t?void 0:t.authors)})).filter((function(e){var t;return g((null===e||void 0===e?void 0:e.urls.map((function(e){return(0,o.ZX)(e.format)})))||[],null===d||void 0===d||null===(t=d.query)||void 0===t?void 0:t.formats)})).filter((function(e){var t;return g((null===e||void 0===e?void 0:e.urls.map((function(e){return e.author||"Unknown"})))||[],null===d||void 0===d||null===(t=d.query)||void 0===t?void 0:t.audiobookCreators)})),h=f.reduce((function(e,t){return e[t.author]||(e[t.author]=0),e[t.author]+=1,e}),{}),m=Object.keys(h).map((function(e){return{title:e,count:h[e]}})),y=f.reduce((function(e,t){var n;return null===(n=t.urls)||void 0===n||n.map((function(t){t.author&&(e[t.author]||(e[t.author]=0),e[t.author]+=1)})),e}),{}),k=f.reduce((function(e,t){var n;return null===(n=t.urls)||void 0===n||n.map((function(t){var n=(0,o.ZX)(t.format);e[n]||(e[n]=0),e[n]+=1})),e}),{}),j=Object.keys(k).map((function(e){return{title:e,count:k[e]}})),x=f.reduce((function(e,t){var n;return null===(n=t.tags)||void 0===n||n.map((function(t){e[t]||(e[t]=0),e[t]+=1})),e}),{}),C=Object.keys(x).map((function(e){return{title:e,count:x[e]}})),w=Object.keys(y).map((function(e){return{title:e,count:y[e]}})),N=v({items:C,checkedItems:b(null===d||void 0===d||null===(e=d.query)||void 0===e?void 0:e.tags),title:"Tags"}),O=N.checkedItems,A=N.Checklist,I=v({items:m,checkedItems:b(null===d||void 0===d||null===(t=d.query)||void 0===t?void 0:t.authors),title:"Author"}),S=I.checkedItems,P=I.Checklist,_=v({items:j,checkedItems:b(null===d||void 0===d||null===(n=d.query)||void 0===n?void 0:n.formats),title:"Vocal Type"}),q=_.checkedItems,E=_.Checklist,T=v({items:w,checkedItems:b(null===d||void 0===d||null===(l=d.query)||void 0===l?void 0:l.audiobookCreators),title:"Audiobook Creator"}),L=T.checkedItems,X=T.Checklist,D=function(e){d.push({pathname:"/search",query:{title:e,tags:O,formats:q,audiobookCreators:L,authors:S}})};return(0,r.jsxs)("div",{className:s().container,children:[(0,r.jsxs)(c(),{children:[(0,r.jsx)("title",{children:"Search audiobooks"}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,r.jsxs)("main",{className:s().main,children:[(0,r.jsx)("div",{children:(0,r.jsx)(p(),{placeholder:"Search...",searchText:null===d||void 0===d||null===(a=d.query)||void 0===a?void 0:a.title,onEnter:D,onSearchClick:D,classNames:"d-flex"})}),(0,r.jsxs)("div",{className:s().search,children:[(0,r.jsxs)("div",{children:[P," ",E," ",X," ",A," "]}),(0,r.jsx)(u.N,{audiobooks:f})]})]})]})}}},function(e){e.O(0,[46,774,888,179],(function(){return t=5243,e(e.s=t);var t}));var t=e.O();_N_E=t}]);